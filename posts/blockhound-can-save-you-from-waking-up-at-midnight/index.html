<!DOCTYPE html>
<html lang="en-us">
<head>
  <link rel="preload" href="/lib/font-awesome/webfonts/fa-brands-400.woff2" as="font" type="font/woff2" crossorigin="anonymous">
  <link rel="preload" href="/lib/font-awesome/webfonts/fa-regular-400.woff2" as="font" type="font/woff2" crossorigin="anonymous">
  <link rel="preload" href="/lib/font-awesome/webfonts/fa-solid-900.woff2" as="font" type="font/woff2" crossorigin="anonymous">
  <link rel="preload" href="/lib/JetBrainsMono/web/woff2/JetBrainsMono-Regular.woff2" as="font" type="font/woff2" crossorigin="anonymous">
  <meta charset="utf-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <title> BlockHound can save you from waking up at midnight | Waldemar Panas&#39; blog</title>
  <link rel = 'canonical' href = 'https://blog.wpanas.eu/posts/blockhound-can-save-you-from-waking-up-at-midnight/'>
  
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <meta name="robots" content="all,follow">
  <meta name="googlebot" content="index,follow,snippet,archive">
  <meta property="og:title" content="BlockHound can save you from waking up at midnight" />
<meta property="og:description" content="BlockHound detects problems that will take down your reactive applications It might not be that self-evident, but your non-blocking reactive application can block and eventually run out of computing power. It&rsquo;s simple to make that error. All you have to do is use a blocking operation, and everything falls apart like a house of cards. It can disguise itself as an undocumented method with an unintended side-effect or a misused dependency." />
<meta property="og:type" content="article" />
<meta property="og:url" content="https://blog.wpanas.eu/posts/blockhound-can-save-you-from-waking-up-at-midnight/" /><meta property="og:image" content="https://blog.wpanas.eu/posts/blockhound-can-save-you-from-waking-up-at-midnight/post-cover.jpg"/><meta property="article:section" content="posts" />
<meta property="article:published_time" content="2021-08-29T00:00:00+00:00" />
<meta property="article:modified_time" content="2021-08-29T00:00:00+00:00" />


  <meta name="twitter:card" content="summary_large_image"/>
<meta name="twitter:image" content="https://blog.wpanas.eu/posts/blockhound-can-save-you-from-waking-up-at-midnight/post-cover.jpg"/>
<meta name="twitter:title" content="BlockHound can save you from waking up at midnight"/>
<meta name="twitter:description" content="BlockHound detects problems that will take down your reactive applications It might not be that self-evident, but your non-blocking reactive application can block and eventually run out of computing power. It&rsquo;s simple to make that error. All you have to do is use a blocking operation, and everything falls apart like a house of cards. It can disguise itself as an undocumented method with an unintended side-effect or a misused dependency."/>

  
  
    
  
  
  
  
  
  <link rel="stylesheet" href="https://blog.wpanas.eu/css/styles.5839778cedecb9ab9c753d5ec1666dfba39c614b06ece1a5283bd11d5f3809a68971ba4690222d7e924a1b89b47428ed10c156dfcc1d259cecc8ebc11bc5c053.css" integrity="sha512-WDl3jO3suaucdT1ewWZt&#43;6OcYUsG7OGlKDvRHV84CaaJcbpGkCItfpJKG4m0dCjtEMFW38wdJZzsyOvBG8XAUw=="> 

  
    <!--[if lt IE 9]>
      <script src="https://oss.maxcdn.com/html5shiv/3.7.2/html5shiv.min.js"></script>
      <script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
    <![endif]-->
  

  
<link rel="icon" type="image/png" href="https://blog.wpanas.eu/images/favicon.ico" />

  
  
  
  
  
    
<script type="application/javascript">
var doNotTrack = false;
if (!doNotTrack) {
	(function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
	(i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
	m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
	})(window,document,'script','https://www.google-analytics.com/analytics.js','ga');
	ga('create', 'UA-111584148-1', 'auto');
	
	ga('send', 'pageview');
}
</script>
  
  
</head>

<body class="max-width mx-auto px3 ltr">
  <div class="content index py4">

  <div id="header-post">
  <a id="menu-icon" href="#"><i class="fas fa-bars fa-lg"></i></a>
  <a id="menu-icon-tablet" href="#"><i class="fas fa-bars fa-lg"></i></a>
  <a id="top-icon-tablet" href="#" onclick="$('html, body').animate({ scrollTop: 0 }, 'fast');" style="display:none;" aria-label="Top of Page"><i class="fas fa-chevron-up fa-lg"></i></a>
  <span id="menu">
    <span id="nav">
      <ul>
         
        <li><a href="/">Home</a></li>
         
        <li><a href="/posts">All posts</a></li>
         
        <li><a href="https://github.com/wpanas/">About</a></li>
        
      </ul>
    </span>
    <br/>
    <span id="actions">
      <ul>
        
        <li>
          <a class="icon" href=" https://blog.wpanas.eu/posts/how-to-migrate-mongodb/" aria-label="Previous">
            <i class="fas fa-chevron-left" aria-hidden="true" onmouseover="$('#i-prev').toggle();" onmouseout="$('#i-prev').toggle();"></i>
          </a>
        </li>
        
        
        <li>
          <a class="icon" href="#" onclick="$('html, body').animate({ scrollTop: 0 }, 'fast');" aria-label="Top of Page">
            <i class="fas fa-chevron-up" aria-hidden="true" onmouseover="$('#i-top').toggle();" onmouseout="$('#i-top').toggle();"></i>
          </a>
        </li>
        <li>
          <a class="icon" href="#" aria-label="Share">
            <i class="fas fa-share-alt" aria-hidden="true" onmouseover="$('#i-share').toggle();" onmouseout="$('#i-share').toggle();" onclick="$('#share').toggle();return false;"></i>
          </a>
        </li>
      </ul>
      <span id="i-prev" class="info" style="display:none;">Previous post</span>
      <span id="i-next" class="info" style="display:none;">Next post</span>
      <span id="i-top" class="info" style="display:none;">Back to top</span>
      <span id="i-share" class="info" style="display:none;">Share post</span>
    </span>
    <br/>
    <div id="share" style="display: none">
      
      <ul>
  
  
    
  
  
  <li>
    <a class="icon" href="http://www.facebook.com/sharer.php?u=https%3a%2f%2fblog.wpanas.eu%2fposts%2fblockhound-can-save-you-from-waking-up-at-midnight%2f" aria-label="Facebook">
      <i class="fab fa-facebook " aria-hidden="true"></i>
    </a>
  </li>
  <li>
    <a class="icon" href="https://twitter.com/share?url=https%3a%2f%2fblog.wpanas.eu%2fposts%2fblockhound-can-save-you-from-waking-up-at-midnight%2f&text=BlockHound%20can%20save%20you%20from%20waking%20up%20at%20midnight" aria-label="Twitter">
      <i class="fab fa-twitter " aria-hidden="true"></i>
    </a>
  </li>
  <li>
    <a class="icon" href="http://www.linkedin.com/shareArticle?url=https%3a%2f%2fblog.wpanas.eu%2fposts%2fblockhound-can-save-you-from-waking-up-at-midnight%2f&title=BlockHound%20can%20save%20you%20from%20waking%20up%20at%20midnight" aria-label="Linkedin">
      <i class="fab fa-linkedin " aria-hidden="true"></i>
    </a>
  </li>
  <li>
    <a class="icon" href="https://pinterest.com/pin/create/bookmarklet/?url=https%3a%2f%2fblog.wpanas.eu%2fposts%2fblockhound-can-save-you-from-waking-up-at-midnight%2f&is_video=false&description=BlockHound%20can%20save%20you%20from%20waking%20up%20at%20midnight" aria-label="Pinterest">
      <i class="fab fa-pinterest " aria-hidden="true"></i>
    </a>
  </li>
  <li>
    <a class="icon" href="mailto:?subject=BlockHound%20can%20save%20you%20from%20waking%20up%20at%20midnight&body=Check out this article: https%3a%2f%2fblog.wpanas.eu%2fposts%2fblockhound-can-save-you-from-waking-up-at-midnight%2f" aria-label="Email">
      <i class="fas fa-envelope " aria-hidden="true"></i>
    </a>
  </li>
  <li>
    <a class="icon" href="https://getpocket.com/save?url=https%3a%2f%2fblog.wpanas.eu%2fposts%2fblockhound-can-save-you-from-waking-up-at-midnight%2f&title=BlockHound%20can%20save%20you%20from%20waking%20up%20at%20midnight" aria-label="Pocket">
      <i class="fab fa-get-pocket " aria-hidden="true"></i>
    </a>
  </li>
  <li>
    <a class="icon" href="http://reddit.com/submit?url=https%3a%2f%2fblog.wpanas.eu%2fposts%2fblockhound-can-save-you-from-waking-up-at-midnight%2f&title=BlockHound%20can%20save%20you%20from%20waking%20up%20at%20midnight" aria-label="reddit">
      <i class="fab fa-reddit " aria-hidden="true"></i>
    </a>
  </li>
  <li>
    <a class="icon" href="http://www.tumblr.com/share/link?url=https%3a%2f%2fblog.wpanas.eu%2fposts%2fblockhound-can-save-you-from-waking-up-at-midnight%2f&name=BlockHound%20can%20save%20you%20from%20waking%20up%20at%20midnight&description=BlockHound%20detects%20problems%20that%20will%20take%20down%20your%20reactive%20applications%20It%20might%20not%20be%20that%20self-evident%2c%20but%20your%20non-blocking%20reactive%20application%20can%20block%20and%20eventually%20run%20out%20of%20computing%20power.%20It%26rsquo%3bs%20simple%20to%20make%20that%20error.%20All%20you%20have%20to%20do%20is%20use%20a%20blocking%20operation%2c%20and%20everything%20falls%20apart%20like%20a%20house%20of%20cards.%20It%20can%20disguise%20itself%20as%20an%20undocumented%20method%20with%20an%20unintended%20side-effect%20or%20a%20misused%20dependency." aria-label="Tumblr">
      <i class="fab fa-tumblr " aria-hidden="true"></i>
    </a>
  </li>
  <li>
    <a class="icon" href="https://news.ycombinator.com/submitlink?u=https%3a%2f%2fblog.wpanas.eu%2fposts%2fblockhound-can-save-you-from-waking-up-at-midnight%2f&t=BlockHound%20can%20save%20you%20from%20waking%20up%20at%20midnight" aria-label="Hacker News">
      <i class="fab fa-hacker-news " aria-hidden="true"></i>
    </a>
  </li>
</ul>

    </div>
    
    <div id="toc">
      <nav id="TableOfContents">
  <ul>
    <li><a href="#blockhound-detects-problems-that-will-take-down-your-reactive-applications">BlockHound detects problems that will take down your reactive applications</a></li>
    <li><a href="#blockhound-works-with-project-reactor--kotlin-coroutines">BlockHound works with Project Reactor &amp; Kotlin coroutines</a></li>
    <li><a href="#together-with-testcontainers-can-even-detect-problems-with-your-external-dependencies">Together with Testcontainers can even detect problems with your external dependencies</a></li>
    <li><a href="#summary">Summary</a></li>
  </ul>
</nav>
    </div>
    
  </span>
</div>


  <article class="post" itemscope itemtype="http://schema.org/BlogPosting">
    <header>
      <h1 class="posttitle" itemprop="name headline">
        BlockHound can save you from waking up at midnight
      </h1>
      <div class="meta">
        
        <div class="postdate">
          
          <time datetime="2021-08-29 00:00:00 &#43;0000 UTC" itemprop="datePublished">2021-08-29</time>
          
        </div>
        
        
        
        
      </div>
    </header>

  
    <div class="article-gallery">
      
      <a class="gallery-item" href="/posts/blockhound-can-save-you-from-waking-up-at-midnight/post-cover.jpg" rel="gallery_0">
          <img src="/posts/blockhound-can-save-you-from-waking-up-at-midnight/post-cover.jpg" itemprop="image" />
      </a>
      
    </div>
  
    
    <div class="content" itemprop="articleBody">
      <h2 id="blockhound-detects-problems-that-will-take-down-your-reactive-applications">BlockHound detects problems that will take down your reactive applications</h2>
<p>It might not be that self-evident, but your non-blocking reactive application can block and eventually run out of computing power. It&rsquo;s simple to make that error.
All you have to do is use a blocking operation, and everything
falls apart like a house of cards. It can disguise itself as an undocumented method with an unintended side-effect or a misused dependency.</p>
<p><a href="https://github.com/reactor/BlockHound">BlockHound</a> can save you, so use it. All you need to do is to
add it to your tests suite. Just like that.</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-kotlin" data-lang="kotlin"><span style="color:#66d9ef">class</span> <span style="color:#a6e22e">SuperImportantServiceTest</span> {
    <span style="color:#a6e22e">@BeforAll</span>
    <span style="color:#66d9ef">fun</span> <span style="color:#a6e22e">setupAll</span>() {
        BlockHound.install();
    }

    <span style="color:#f92672">..</span>.
}
</code></pre></div><p>For more information on adding dependency to your project,
you can check an <a href="https://github.com/reactor/BlockHound#getting-it">official getting starter guide</a>.</p>
<h2 id="blockhound-works-with-project-reactor--kotlin-coroutines">BlockHound works with Project Reactor &amp; Kotlin coroutines</h2>
<p>BlockHound is a tool created by <a href="https://projectreactor.io/">Project Reactor&rsquo;s</a> team, but you can use it with many
different technologies. Here you can see examples of using BlockHound with <a href="https://github.com/reactor/BlockHound/blob/master/example/src/test/java/com/example/ReactorTest.java">Reactor</a> &amp; <a href="https://github.com/Kotlin/kotlinx.coroutines/blob/master/kotlinx-coroutines-debug/test/BlockHoundTest.kt">Kotlin coroutines</a>.
It supports <a href="https://github.com/reactor/BlockHound/blob/master/docs/custom_integrations.md">the JVM&rsquo;s SPI mechanism</a> to be easily integrated with any technology.</p>
<p>Sadly, RxJava 3 is <a href="https://github.com/ReactiveX/RxJava/pull/6692">unsupported</a> at the moment. BlockHound still supports <a href="https://github.com/reactor/BlockHound/blob/master/example/src/test/java/com/example/RxJavaTest.java">RxJava 2</a>.</p>
<p>Nonetheless, BlockHound&rsquo;s versatile, and there is no reason you can&rsquo;t use it right now.
Unless you use RxJava 3 😉</p>
<h2 id="together-with-testcontainers-can-even-detect-problems-with-your-external-dependencies">Together with Testcontainers can even detect problems with your external dependencies</h2>
<p>Some blocking operations might hide inside dependencies that you use.
Let&rsquo;s say that you use blocking MongoDB operations by mistake. If you only mock operations on a database, then BlockHound will not help you.</p>
<p>Use <a href="https://www.testcontainers.org/">Testcontainers</a> to solve this problem. It&rsquo;s a tool that will help you
spawn containers with dependencies during running tests. In doing so, you connect to an authentic MongoDB instance just for your tests.
BlockHound will instantly catch that you use blocking API and warn you about it.</p>
<h2 id="summary">Summary</h2>
<p>Putting it all together, go and use <a href="https://github.com/reactor/BlockHound">BlockHound</a> immediately. It&rsquo;s an essential tool for every software developer that creates reactive applications.</p>
<p>BlockHound is:</p>
<ul>
<li>easy to use &amp; saves your good night sleep</li>
<li>works with the most popular non-blocking JVM technologies</li>
<li>together with Testcontainers is a bulletproof solution</li>
</ul>

    </div>
  </article>

  
  




  
    <div class="blog-post-comments">
        <div id="disqus_thread">
          <script type="text/javascript">
          
          (function() {
              
              
              
              
          
              var dsq = document.createElement('script'); dsq.type = 'text/javascript'; dsq.async = true;
              var disqus_shortname = 'waldemar-panas-blog';
              dsq.src = '//' + disqus_shortname + '.disqus.com/embed.js';
              (document.getElementsByTagName('head')[0] || document.getElementsByTagName('body')[0]).appendChild(dsq);
          })();
          </script>
          <noscript>Please enable JavaScript to view the <a href="https://disqus.com/?ref_noscript">comments powered by Disqus.</a></noscript>
          <a href="https://disqus.com/" class="dsq-brlink">comments powered by <span class="logo-disqus">Disqus</span></a>
        </div>
    </div>

  


  <div id="footer-post-container">
  <div id="footer-post">

    <div id="nav-footer" style="display: none">
      <ul>
         
          <li><a href="/">Home</a></li>
         
          <li><a href="/posts">All posts</a></li>
         
          <li><a href="https://github.com/wpanas/">About</a></li>
        
      </ul>
    </div>

    
    <div id="toc-footer" style="display: none">
      <nav id="TableOfContents">
  <ul>
    <li><a href="#blockhound-detects-problems-that-will-take-down-your-reactive-applications">BlockHound detects problems that will take down your reactive applications</a></li>
    <li><a href="#blockhound-works-with-project-reactor--kotlin-coroutines">BlockHound works with Project Reactor &amp; Kotlin coroutines</a></li>
    <li><a href="#together-with-testcontainers-can-even-detect-problems-with-your-external-dependencies">Together with Testcontainers can even detect problems with your external dependencies</a></li>
    <li><a href="#summary">Summary</a></li>
  </ul>
</nav>
    </div>
    

    <div id="share-footer" style="display: none">
      
      <ul>
  
  
    
  
  
  <li>
    <a class="icon" href="http://www.facebook.com/sharer.php?u=https%3a%2f%2fblog.wpanas.eu%2fposts%2fblockhound-can-save-you-from-waking-up-at-midnight%2f" aria-label="Facebook">
      <i class="fab fa-facebook fa-lg" aria-hidden="true"></i>
    </a>
  </li>
  <li>
    <a class="icon" href="https://twitter.com/share?url=https%3a%2f%2fblog.wpanas.eu%2fposts%2fblockhound-can-save-you-from-waking-up-at-midnight%2f&text=BlockHound%20can%20save%20you%20from%20waking%20up%20at%20midnight" aria-label="Twitter">
      <i class="fab fa-twitter fa-lg" aria-hidden="true"></i>
    </a>
  </li>
  <li>
    <a class="icon" href="http://www.linkedin.com/shareArticle?url=https%3a%2f%2fblog.wpanas.eu%2fposts%2fblockhound-can-save-you-from-waking-up-at-midnight%2f&title=BlockHound%20can%20save%20you%20from%20waking%20up%20at%20midnight" aria-label="Linkedin">
      <i class="fab fa-linkedin fa-lg" aria-hidden="true"></i>
    </a>
  </li>
  <li>
    <a class="icon" href="https://pinterest.com/pin/create/bookmarklet/?url=https%3a%2f%2fblog.wpanas.eu%2fposts%2fblockhound-can-save-you-from-waking-up-at-midnight%2f&is_video=false&description=BlockHound%20can%20save%20you%20from%20waking%20up%20at%20midnight" aria-label="Pinterest">
      <i class="fab fa-pinterest fa-lg" aria-hidden="true"></i>
    </a>
  </li>
  <li>
    <a class="icon" href="mailto:?subject=BlockHound%20can%20save%20you%20from%20waking%20up%20at%20midnight&body=Check out this article: https%3a%2f%2fblog.wpanas.eu%2fposts%2fblockhound-can-save-you-from-waking-up-at-midnight%2f" aria-label="Email">
      <i class="fas fa-envelope fa-lg" aria-hidden="true"></i>
    </a>
  </li>
  <li>
    <a class="icon" href="https://getpocket.com/save?url=https%3a%2f%2fblog.wpanas.eu%2fposts%2fblockhound-can-save-you-from-waking-up-at-midnight%2f&title=BlockHound%20can%20save%20you%20from%20waking%20up%20at%20midnight" aria-label="Pocket">
      <i class="fab fa-get-pocket fa-lg" aria-hidden="true"></i>
    </a>
  </li>
  <li>
    <a class="icon" href="http://reddit.com/submit?url=https%3a%2f%2fblog.wpanas.eu%2fposts%2fblockhound-can-save-you-from-waking-up-at-midnight%2f&title=BlockHound%20can%20save%20you%20from%20waking%20up%20at%20midnight" aria-label="reddit">
      <i class="fab fa-reddit fa-lg" aria-hidden="true"></i>
    </a>
  </li>
  <li>
    <a class="icon" href="http://www.tumblr.com/share/link?url=https%3a%2f%2fblog.wpanas.eu%2fposts%2fblockhound-can-save-you-from-waking-up-at-midnight%2f&name=BlockHound%20can%20save%20you%20from%20waking%20up%20at%20midnight&description=BlockHound%20detects%20problems%20that%20will%20take%20down%20your%20reactive%20applications%20It%20might%20not%20be%20that%20self-evident%2c%20but%20your%20non-blocking%20reactive%20application%20can%20block%20and%20eventually%20run%20out%20of%20computing%20power.%20It%26rsquo%3bs%20simple%20to%20make%20that%20error.%20All%20you%20have%20to%20do%20is%20use%20a%20blocking%20operation%2c%20and%20everything%20falls%20apart%20like%20a%20house%20of%20cards.%20It%20can%20disguise%20itself%20as%20an%20undocumented%20method%20with%20an%20unintended%20side-effect%20or%20a%20misused%20dependency." aria-label="Tumblr">
      <i class="fab fa-tumblr fa-lg" aria-hidden="true"></i>
    </a>
  </li>
  <li>
    <a class="icon" href="https://news.ycombinator.com/submitlink?u=https%3a%2f%2fblog.wpanas.eu%2fposts%2fblockhound-can-save-you-from-waking-up-at-midnight%2f&t=BlockHound%20can%20save%20you%20from%20waking%20up%20at%20midnight" aria-label="Hacker News">
      <i class="fab fa-hacker-news fa-lg" aria-hidden="true"></i>
    </a>
  </li>
</ul>

    </div>

    <div id="actions-footer">
      
        <a id="menu-toggle" class="icon" href="#" onclick="$('#nav-footer').toggle();return false;" aria-label="Menu">
          <i class="fas fa-bars fa-lg" aria-hidden="true"></i> Menu</a>
        
        <a id="toc-toggle" class="icon" href="#" onclick="$('#toc-footer').toggle();return false;" aria-label="TOC">
          <i class="fas fa-list fa-lg" aria-hidden="true"></i> TOC</a>
        
        <a id="share-toggle" class="icon" href="#" onclick="$('#share-footer').toggle();return false;" aria-label="Share">
          <i class="fas fa-share-alt fa-lg" aria-hidden="true"></i> share</a>
        <a id="top" style="display:none" class="icon" href="#" onclick="$('html, body').animate({ scrollTop: 0 }, 'fast');" aria-label="Top of Page">
          <i class="fas fa-chevron-up fa-lg" aria-hidden="true"></i> Top</a>
    </div>

  </div>
</div>


  <footer id="footer">
  <div class="footer-left">
    Copyright  &copy; 2021  Waldemar Panas 
  </div>
  <div class="footer-right">
    <nav>
      <ul>
         
        <li><a href="/">Home</a></li>
         
        <li><a href="/posts">All posts</a></li>
         
        <li><a href="https://github.com/wpanas/">About</a></li>
        
      </ul>
    </nav>
  </div>
</footer>


  </div>
</body>

<link rel="stylesheet" href=/lib/font-awesome/css/all.min.css>
<script src=/lib/jquery/jquery.min.js></script>
<script src=/js/main.js></script>
<script src=/js/code-copy.js></script>



</html>
